<!DOCTYPE html>
<html>
<head>
	<title></title>
	<style type="text/css">

	.bar_x {
	fill:#deb887;
	/* height: 21px; */
	transition: fill .3s ease;
	cursor: pointer;
	font-family: Helvetica, sans-serif;

	text {
	fill: #555;
	}
	}
	.bar_y {
	fill:#5f9ea0;
	/* height: 21px; */
	transition: fill .3s ease;
	cursor: pointer;
	font-family: Helvetica, sans-serif;

	text {
	fill: #555;
	}
	}
	.chart:hover, .chart:focus {
		.bar_x, .bar_y {
			fill: #aaa;
		}
	}

	.bar_x:hover,
	.bar_x:focus,.bar_y:hover,
	.bar_y:focus {

		fill:darkslateblue !important;

		text {
			fill: red;
		}
	}
	.marker circle:hover, .marker circle:focus{
		fill: grey;
		cursor: pointer;
	}
	figcaption {
	font-weight: bold;
	color: #000;
	margin-bottom: 20px;
	}

	body {
	font-family: 'Open Sans', sans-serif;
	}
	</style>
</head>
<body>
	<!-- <svg id='s' height='400px' width='2000px'>
	</svg> -->
	<figure>
		<!-- <figcaption>A graph that shows the number of fruit collected</figcaption> -->
	<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="chart" aria-labelledby="title" role="img" viewbox="0 0 1500 3000" id="s">
		<title id="title">A bart chart showing information</title>
		<text x="300" y="40" dy="20">X</text>
		<text x="500" y="40" dy="20">Y</text>
		<text x="200" y="710" dy="20">X</text>
		<text x="625" y="710" dy="20">Y</text>
		<text x="20" y="400">15</text>
		<text x="20" y="460">12</text>
		<text x="20" y="520">9</text>
		<text x="20" y="580">6</text>
		<text x="20" y="640">3</text>
		<text x="20" y="700">0</text>
		<text x="420" y="400">15</text>
		<text x="420" y="460">12</text>
		<text x="420" y="520">9</text>
		<text x="420" y="580">6</text>
		<text x="420" y="640">3</text>
		<text x="420" y="700">0</text>
		<text x="420" y="1100">X</text>
		<text x="600" y="1100">Y</text>
		<line x1="50" y1="400" y2="700" x2="50" stroke="grey"></line>
		<line x1="50" y1="700" y2="700" x2="400" stroke="grey"></line>
		<line x1="450" y1="400" y2="700" x2="450" stroke="grey"></line>
		<line x1="450" y1="700" y2="700" x2="800" stroke="grey"></line>
		<text x="100" y="790" dy="20">10</text>
		<text x="100" y="815" dy="20">8</text>
		<text x="100" y="840" dy="20">13</text>
		<text x="100" y="865" dy="20">9</text>
		<text x="100" y="890" dy="20">11</text>
		<text x="100" y="915" dy="20">14</text>
		<text x="100" y="940" dy="20">6</text>
		<text x="100" y="965" dy="20">4</text>
		<text x="100" y="990" dy="20">12</text>
		<text x="100" y="1015" dy="20">7</text>
		<text x="100" y="1040" dy="20">5</text>
		<text x="800" y="790" dy="20">8.04</text>
		<text x="800" y="815" dy="20">6.95</text>
		<text x="800" y="840" dy="20">7.58</text>
		<text x="800" y="865" dy="20">8.81</text>
		<text x="800" y="890" dy="20">8.33</text>
		<text x="800" y="915" dy="20">9.96</text>
		<text x="800" y="940" dy="20">7.24</text>
		<text x="800" y="965" dy="20">4.26</text>
		<text x="800" y="990" dy="20">10.84</text>
		<text x="800" y="1015" dy="20">4.82</text>
		<text x="800" y="1040" dy="20">5.68</text>
		<line y1="1500" x1="50" x2="50" y2="1050" stroke="grey"></line>
		<line y1="1500" x1="600" x2="600" y2="1050" stroke="grey"></line>
		<line y1="1050" x1="50" x2="600" y2="1050" stroke="grey"></line>
		<line y1="1500" x1="50" x2="600" y2="1500" stroke="grey"></line>
	</svg>
	</figure>
	
  
	<script>
		
		var data_x = [10, 8, 13, 9, 11, 14, 6, 4, 12, 7, 5]
		var data_y = [8.04, 6.95, 7.58, 8.81, 8.33, 9.96, 7.24, 4.26, 10.84, 4.82, 5.68]
		console.log(data_x.length)
		var x = ''
		function makeSVG(tag, attrs) {
			var el= document.createElementNS('http://www.w3.org/2000/svg', tag);
			for (var k in attrs)
				el.setAttribute(k, attrs[k]);
			return el;
		}
		const svg = document.getElementById('s')
		data_x.forEach((entry, index) => {
			const g = document.createElementNS('http://www.w3.org/2000/svg', 'g')
			g.setAttribute('class', 'bar_x')
			const bar = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
			bar.setAttribute('x', 400-data_x[index]*10);
			bar.setAttribute('y', 100 + 20*index);
			bar.setAttribute('height', `${19}px`);
			bar.setAttribute('width', `${data_x[index]*10}px`);
			bar.setAttribute('style', 'transition: 0.5s all;');
			g.appendChild(bar);
			const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
			text.setAttribute('x', 100);
			text.setAttribute('y', 99 + 20*index);
			text.setAttribute('dy', 20)
			text.append(`${data_x[index]}`)
			g.appendChild(text);
			svg.appendChild(g)
			// barChartElems.push(bar);
		});
		data_y.forEach((entry, index) => {
			const g = document.createElementNS('http://www.w3.org/2000/svg', 'g')
			g.setAttribute('class', 'bar_y')
			const bar = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
			bar.setAttribute('x', 410 );
			bar.setAttribute('y', 100 + 20*index);
			bar.setAttribute('height', `${19}px`);
			bar.setAttribute('width', `${data_y[index]*10}px`);
			bar.setAttribute('style', 'transition: 0.5s all;');
			g.appendChild(bar);
			const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
			text.setAttribute('x', 700);
			text.setAttribute('y', 99 + 20*index);
			text.setAttribute('dy', 20)
			text.append(`${data_y[index]}`)
			g.appendChild(text);
			svg.appendChild(g)
			// barChartElems.push(bar);
		});
		var x1 = 100, x2
		// 	var line1=makeSVG('line', {x1: x1, y1: 700 - 20* data_x[i], x2: x1+25, y2: 700, stroke: '#deb887', strokewidth: 20})
		// 	}
		for(let i=0; i<data_x.length; i++){
			if(i<data_x.length-1){
				line=makeSVG('line', {x1: x1, y1: 700 - 20* data_x[i], x2: x1+25, y2: 700 - 20* data_x[i+1], stroke: '#deb887', 'stroke-width': 2})
				x1 = x1+25
				document.getElementById('s').appendChild(line)
			}
		}
		x1 = 500
		for(let i=0; i<data_x.length; i++){
			if(i<data_x.length-1){
				line=makeSVG('line', {x1: x1, y1: 700 - 20* data_y[i], x2: x1+25, y2: 700 - 20* data_y[i+1], stroke: '#5f9ea0', 'stroke-width': 2})
				x1 = x1+25
				document.getElementById('s').appendChild(line)
			}
		}
		y1=800
		for(let i=0; i<data_x.length; i++){
			if(i<data_x.length-1){
				// line=makeSVG('line', {x1: 700-20*data_x[i], y1: y1, x2: 700-20*data_x[i+1], y2: y1+25, stroke: '#deb887', 'stroke-width': 2})
				path=makeSVG('path', {d: 'M500 ' + `${y1}` + ' L' + `${500-20*data_x[i]}` + ' ' + `${y1}` + ' L' + `${500-20*data_x[i+1]}` + ' ' + `${y1+25}` + ' L500' + ' ' + `${y1+25}`+ ' Z', fill: '#deb887', stroke: '#deb887'})
				y1 = y1+25
				document.getElementById('s').appendChild(path)
			}
		}
		y1=800
		for(let i=0; i<data_x.length; i++){
			if(i<data_x.length-1){
				// line=makeSVG('line', {x1: 720+20*data_y[i], y1: y1, x2: 720+20*data_y[i+1], y2: y1+25, stroke: '#5f9ea0', 'stroke-width': 2})
				path=makeSVG('path', {d: 'M520 ' + `${y1}` + ' L' + `${520+20*data_y[i]}` + ' ' + `${y1}` + ' L' + `${520+20*data_y[i+1]}` + ' ' + `${y1+25}` + ' L520' + ' ' + `${y1+25}`+ ' Z', fill: '#5f9ea0', stroke: '#5f9ea0'})
				y1 = y1+25
				document.getElementById('s').appendChild(path)
			}
		}
		line = makeSVG('line', {y1: 1500-120, x1: 50+60, y2: 1500-330, x2: 50+480, stroke: '#0074d9', 'stroke-width': 2})
		document.getElementById('s').appendChild(line)
		for(let i=0; i<data_x.length; i++){
			const circle=makeSVG('circle', {cy: 1500 - 30*data_y[i], cx: 50 + 30*data_x[i], r: 6, fill: 'red', class: 'dot'})
			// const circle = document.createElementNS('h')
			var a = 1500-30*data_y[i], b = 50 + 39*data_x[i]
			const text = document.createElementNS('http://www.w3.org/2000/svg', 'text')
			const g = document.createElementNS('http://www.w3.org/2000/svg', 'g')
			g.setAttribute('class', 'marker')
			g.appendChild(circle)
			const title = document.createElementNS('http://www.w3.org/2000/svg', 'title')
			title.append(data_x[i] + ', ' + data_y[i])
			g.appendChild(title)
			svg.appendChild(g)
		}
	</script>
</html>